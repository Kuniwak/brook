<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="lib/google-code-prettify/prettify.css">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <title>hirokidaichi/brook @ GitHub</title>
  <script type="text/javascript" src="js/namespace.js"></script>
  <script type="text/javascript" src="js/brook.js"></script>
  <script type="text/javascript" src="lib/google-code-prettify/prettify.js"></script>
  <script type="text/javascript">
    window.onload = function() {
      var sampleCode = document.getElementById("sampleCode").innerHTML;
      prettyPrint();
      eval(sampleCode);
    };
  </script>
</head>

<body>
  <a href="http://github.com/hirokidaichi/brook"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">
    <div class="download">
      <a href="http://github.com/hirokidaichi/brook/zipball/master"><img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/hirokidaichi/brook/tarball/master"><img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/hirokidaichi/brook">brook</a></h1>
    <div class="description">
      a JavaScript framework for large scale development
    </div>
    <p>
        "brook" is a JavaScript framework.
    </p>

    <h2>Sample Code </h2>
    you can write the application using MVC design pattern easily,<br />
    like this:
    <pre class="default prettyprint" id="sampleCode">
Namespace("sample.widget")
.use("brook *")
.use("brook.model *")
.use("brook.util *")
.define(function(ns){
  var observeEvent = function(element, eventName, promise) {
    element.addEventListener(eventName, function(event) {
      promise.run(event)
    }, false );
  };

  //define view method
  var updateView = function(element) {
    return ns.promise(function(next, value) {
      element.innerHTML += value + "<br>";
      next();
    });
  };
  
  //define model
  var model = ns.createModel();
  model.addMethod("update", ns.promise(function(next, value) {
    //update model
    //for example, connectToSomeDataBase();
    //then, Model to View
    next("Hello World!");
  }));

  ns.provide({
    registerElement: function(button, element) {
      // handle user action and notify to the model
      // View to Model
      observeEvent(button, "click", model.notify("update"));

      //observing model update
      ns.from(model.method("update")).bind(updateView(element)).subscribe();
    }
  });
});

//entry point
Namespace.use("sample.widget").apply(function(ns) {
  ns.sample.widget.registerElement(
    document.getElementById("sampleButton"),
    document.getElementById("output")
  );
});
</pre>

<div><button type="button" id="sampleButton">run sample code</button></div>
<pre id="output"></pre>

    <h2>Document</h2>
    <p><a href="./doc/index.html">document</a></p>

    <!--
    <h2>Demo</h2>
    <p><a href="./sample/index.html">simple demo</a></p>
    -->

    <h2>Authors</h2>
    <p>Daichi Hiroki (hirokidaichi@gmail.com)<br/>Kato Kazuyoshi (kato.kazuyoshi@gmail.com)<br/><br/>      </p>
    <h2>Contact</h2>
    <p>hirokidaichi (hirokidaichi@gmail.com)<br/>      </p>

    <h2>Dependencies</h2>
    <p><ul><li><a href="https://github.com/hirokidaichi/namespace-js">namespace-js</a></li></ul></p>
    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/hirokidaichi/brook/zipball/master">zip</a> or
      <a href="http://github.com/hirokidaichi/brook/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre class="default git">$ git clone git://github.com/hirokidaichi/brook</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/hirokidaichi/brook">hirokidaichi/brook</a>
    </div>

  </div>
</body>
</html>
